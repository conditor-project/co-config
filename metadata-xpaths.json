[
  { "name" :"title",
    "type" :"simpleString",
    "path":"normalize-space(//TEI:body//TEI:biblFull//TEI:sourceDesc//TEI:analytic/TEI:title)"},
  { "name":"titlefr",
    "type":"simpleString",
    "path":"normalize-space(//TEI:body//TEI:biblFull//TEI:sourceDesc//TEI:analytic/TEI:title[@xml:lang='fr'])"},
  { "name":"titleen",
    "type":"simpleString",
    "path":"normalize-space(//TEI:body//TEI:biblFull//TEI:sourceDesc//TEI:analytic/TEI:title[@xml:lang='en'])"},
  { "name":"meetingTitle",
    "type":"simpleString",
    "path":"normalize-space(//TEI:body//TEI:meeting//TEI:title)"},
  { "name":"author",
    "type":"bloc",
    "path":"//TEI:body//TEI:biblFull//TEI:sourceDesc//TEI:author[@role='aut' or @role='crp']//TEI:persName",
    "separator":" ",
    "limit":3,
    "concat":true,
    "fields":{
      "type":"array",
      "concat":true,
      "separator":" ",
      "fields":[{
        "name":"surname",
        "type":"simpleString",
        "path":"string(//TEI:surname)"},
        {
          "name":"forename",
          "type":"simpleString",
          "path":"string(//TEI:forename)"}
      ]
    }
  },
  { "name":"authorFull",
    "type":"bloc",
    "path":"//TEI:body//TEI:biblFull//TEI:sourceDesc//TEI:author[@role='aut' or @role='crp']/TEI:persName",
    "separator":" ",
    "concat":true,
    "fields":{
      "type":"array",
      "concat":true,
      "separator":" ",
      "fields":[{
        "name":"surname",
        "type":"simpleString",
        "path":"string(//TEI:surname)"},
        {
          "name":"forename",
          "type":"simpleString",
          "path":"string(//TEI:forename)"}
      ]
    }
  },
  { "name":"authorInit",
    "type":"bloc",
    "path":"//TEI:body//TEI:biblFull//TEI:sourceDesc//TEI:author[@role='aut' or @role='crp']//TEI:persName",
    "separator":" ",
    "limit":3,
    "concat":true,
    "fields":{
      "separator":" ",
      "type":"array",
      "concat":true,
      "fields":[{
        "name":"surname",
        "type":"simpleString",
        "path":"string(//TEI:surname)"
      },
        {
          "name":"forename",
          "path":"string(//TEI:forename)",
          "type":"simpleString",
          "regexp":"(?:\\s*\\b)([a-zA-Z])(?:[^\\s-]*)",
          "flag":"gm",
          "replace":"$1"
        }
      ]
    }
  },
  { "name":"authorRef",
    "type":"bloc",
    "path":"//TEI:body//TEI:biblFull//TEI:sourceDesc//TEI:author[@role='aut' or @role='crp']",
    "fields":
    {
      "type":"struct",
      "fields":[{
        "name":"surname",
        "type":"simpleString",
        "path":"string(//TEI:persName//TEI:surname)"},
        {
        "name":"forename",
        "type":"simpleString",
        "path":"string(//TEI:persName//TEI:forename)"},
        {
        "name":"halAuthorId",
        "type":"simpleString",
        "path":"string(//TEI:idno[lower-case(@type)='halauthorid'])"
        },
        {
        "name":"researcherId",
        "type":"simpleString",
        "path":"string(//TEI:idno[lower-case(@type)='researcherid'])"
        },
        {"type":"bloc",
          "name":"affiliations",
          "path":"//TEI:affiliation",
          "fields":
          {"type":"simpleString",
            "path":"normalize-space(//@ref)" 
            } 
        }
      ]
    }
  },
  { "name":"issn",
    "type":"simpleString",
    "path":"string(//TEI:body//TEI:biblFull//TEI:idno[@type='issn'])"},
  { "name":"eissn",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='eissn']/text()"},
  { "name":"xissn",
    "type":"bloc",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='issn' or @type='eissn']",
    "fields":
     {
        "type":"simpleString",
        "path":"//TEI:idno"
       }
      
  },
  { "name":"isbn",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='isbn']/text()"},
  { "name":"doi",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='doi']/text()"},
  { "name":"hasDoi",
    "type":"boolean",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='doi']/text() != ''"},
  { "name":"ut",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='utKey']/text()"},
  { "name":"ppn",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='ppnSudoc']/text()"},
  { "name":"arxiv",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='arxiv']/text()"},
  { "name":"pmId",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='pubmed']/text()"},
  { "name":"nnt",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='nnt']/text()"},
  { "name":"patentNumber",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='patentNumber']/text()"},
  { "name":"issue",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblScope[@unit='issue']/text()"},
  { "name":"meetAbstrNo",
    "type":"simpleString",
    "path":"//TEI:body//TEI:imprint//TEI:biblScope[@unit='meetAbstrNo']/text()"},
  { "name":"page",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblScope[@unit='pp']/text()"},
  { "name":"volume",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblScope[@unit='volume']/text()"},
  { "name":"idHal",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='halId']/text()"},
  { "name":"idProdinra",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='idprodinra']/text()"},
  { "name":"halAuthorId",
    "type":"bloc",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[lower-case(@type)='halauthorid']",
    "fields":
    {
      "type":"simpleString",
      "path":"//TEI:idno"
      }
    
  },
  { "name":"orcId",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[lower-case(@type)='orcid']/text()"},
  { "name":"researcherId",
    "type":"bloc",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='researcherId']",
    "fields":
   {
      "type":"simpleString",
      "path":"//TEI:idno"
    }
    
  },
  { "name":"viaf",
    "type":"bloc",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[lower-case(@type)='viaf']",
    "fields":
    {
      "type":"simpleString",
      "path":"//TEI:idno"
      }
    
  },
  { "name":"publicationDate",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:biblStruct//TEI:imprint//TEI:date/text()"},
  { "name":"titreSourceM",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:biblStruct//TEI:monogr//TEI:title[@level='m']/text()"},
  { "name":"titreSourceJ",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:biblStruct//TEI:monogr//TEI:title[@level='j']/text()"},
  { "name":"abstract",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:profileDesc//TEI:abstract/text()"},
  { "name":"typeDocument",
    "type":"bloc",
    "path":"//TEI:body//TEI:biblFull//TEI:classCode[@scheme='typology']",
    "fields":
   {
      "type":"simpleString",
      "path":"//TEI:classCode"
      }
    
  },
  { "name":"isni",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='isni']/text()"},
  { "name":"articleNo",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:biblStruct//TEI:imprint//TEI:biblScope[@unit='articleNo']/text()"},
  { "name":"bibCode",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='bibcode']/text()"},
  { "name":"eisbn",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='eisbn']/text()"},
  { "name":"ensam",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='ensam']/text()"},
  { "name":"ineris",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='ineris']/text()"},
  { "name":"inspire",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='inspire']/text()"},
  { "name":"ird",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='ird']/text()"},
  { "name":"irstea",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='irstea']/text()"},
  { "name":"localRef",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='localRef']/text()"},
  { "name":"oatao",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='oatao']/text()"},
  { "name":"okina",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='okina']/text()"},
  { "name":"otherNumber",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='otherNumber']/text()"},
  { "name":"pubmedCentral",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='pubmedcentral']/text()"},
  { "name":"sciencespo",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='sciencespo']/text()"},
  { "name":"reportNumber",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='reportNumber']/text()"},
  { "name":"cern",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:idno[@type='cern']/text()"},
  { "name":"part",
    "type":"simpleString",
    "path":"//TEI:body//TEI:biblFull//TEI:biblStruct//TEI:imprint//TEI:biblScope[@unit='part']/text()"}
]
