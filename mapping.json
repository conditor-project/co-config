{
    "settings":{
        "index": {
            "number_of_replicas": 0
        },
        "analysis":{
            "char_filter":{
                "whitespace_remove": {
                    "type": "pattern_replace",
                    "pattern": "\\s+",
                    "replacement": ""
                },
                "punctuation_remove": {
                    "type": "pattern_replace",
                    "pattern": "\\p{P}",
                    "replacement": ""
                },
                "spacenum":{
                    "type": "pattern_replace",
                    "pattern": "[^0-9]",
                    "replacement":" "
                },
                "num":{
                    "type": "pattern_replace",
                    "pattern": "[^0-9]",
                    "replacement":""
                },
                "annee":{
                    "type": "pattern_replace",
                    "pattern": ".*([0-9]{4}).*",
                    "replacement":"$1"
                },
                "alphanum":{
                    "type": "pattern_replace",
                    "pattern": "[^0-9a-zA-Z]",
                    "replacement":""
                },
                "firstnum":{
                    "type": "pattern_replace",
                    "pattern": ".*([0-9]+).*",
                    "replacement":"$1"
                },
                "trunc_50":{
                    "type":"pattern_replace",
                    "pattern":".*([0-9a-zA-Z]{50}).*",
                    "replacement":"$1"
                },
                "trunc_75":{
                    "type":"pattern_replace",
                    "pattern":".*([0-9a-zA-Z]{75}).*",
                    "replacement":"$1"
                }
            },
            "filter":{
                "my_asciifolding":{
                    "type":"asciifolding",
                    "preserve_original" : false
                }
            },
            "normalizer":{
                "titre:normalizer":{
                    "type": "custom",
                    "char_filter":["whitespace_remove","punctuation_remove"],
                    "filter":["lowercase","my_asciifolding"]
                },
                "titre50:normalizer":{
                    "type":"custom",
                    "char_filter":["whitespace_remove","punctuation_remove","trunc_50"],
                    "filter":["lowercase","my_asciifolding"]
                },
                "titre75:normalizer":{
                    "type":"custom",
                    "char_filter":["whitespace_remove","punctuation_remove","trunc_50"],
                    "filter":["lowercase","my_asciifolding"]
                },
                "auteur:normalizer":{
                    "type":"custom",
                    "char_filter":["whitespace_remove","punctuation_remove"],
                    "filter":["lowercase","my_asciifolding"]
                },
                "id:normalizer":{
                    "type":"custom",
                    "char_filter":["alphanum"],
                    "filter":["lowercase"]
                },
                "page:normalizer":{
                    "type":"custom",
                    "char_filter":["spacenum","firstnum"]
                },
                "volume:normalizer":{
                    "type":"custom",
                    "char_filter":["firstnum"],
                    "filter":["lowercase"]
                },
                "numero:normalizer":{
                    "type":"custom",
                    "char_filter":["num"]
                },
                "datePubli:normalizer":{
                    "type":"custom",
                    "char_filter":["annee"]
                }
            }
        }
    },
    "mappings":{ 
        "notice": {
            "dynamic": "false",
            "properties": {
                "idConditor":{
                    "type":"keyword"
                },
                "auteur": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"auteur:normalizer"
                        }
                    }
                },
                "auteur_init": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"auteur:normalizer"
                        }
                    }
                },
                "doi": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"id:normalizer"
                        }
                    }
                },
                "idhal": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"id:normalizer"
                        }
                    }
                },
                "idprodinra": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"id:normalizer"
                        }
                    }
                },
                "halauthorid": {
                    "type":"nested"
                },
                "orcid": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"id:normalizer"
                        }
                    }
                },
                "researcherid": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"id:normalizer"
                        }
                    }
                },
                "viaf": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"id:normalizer"
                        }
                    }
                },
                "arxiv": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"id:normalizer"
                        }
                    }
                },
                "pubmed": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"id:normalizer"
                        }
                    }
                },
                "nnt": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"id:normalizer"
                        }
                    }
                },
                "patentNumber": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"id:normalizer"
                        }
                    }
                },
                "ut": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"id:normalizer"
                        }
                    }
                },
                "issn": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"id:normalizer"
                        }
                    }
                },
                "eissn": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"id:normalizer"
                        }
                    }
                },
                "isbn": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"id:normalizer"
                        }
                    }
                },
                "numero": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"numero:normalizer"
                        }
                    }
                },
                "page": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"page:normalizer"
                        }
                    }
                },
                "source": {
                    "type": "keyword"
                },
                "titre": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"titre:normalizer"
                        },
                        "normalized50":{
                            "type":"keyword",
                            "normalizer":"titre50:normalizer"
                        },
                        "normalized75":{
                            "type":"keyword",
                            "normalizer":"titre75:normalizer"
                        }
                    }
                },
                "titrefr": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"titre:normalizer"
                        },
                        "normalized50":{
                            "type":"keyword",
                            "normalizer":"titre50:normalizer"
                        },
                        "normalized75":{
                            "type":"keyword",
                            "normalizer":"titre75:normalizer"
                        }
                    }
                },
                "titreen": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"titre:normalizer"
                        },
                        "normalized50":{
                            "type":"keyword",
                            "normalizer":"titre50:normalizer"
                        },
                        "normalized75":{
                            "type":"keyword",
                            "normalizer":"titre75:normalizer"
                        }
                    }
                },
                "volume": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"volume:normalizer"
                        }
                    }
                },
                "typeDocument": {
                    "type":"nested"
                },
                "typeConditor":{
                    "type":"nested",
                    "properties":{
                        "value":{
                            "type":"text",
                            "index":true
                        },
                        "raw":{
                            "type":"keyword"
                        }
                    }
                },
                "duplicate":{
                    "type":"nested"
                },
                "idChain":{
                    "type":"keyword"
                },
                "titreSource": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"titre:normalizer"
                        }
                    }
                },
                "datePubli": {
                    "properties":{
                        "value":{
                            "type":"text"
                        },
                        "normalized":{   
                            "type":"keyword",
                            "normalizer":"datePubli:normalizer"
                        }
                    }
                },
                "date_creation":{
                    "type":"date",
                    "format": "yyy-MM-dd HH:mm:ss||yyy-MM-dd||epoch_millis"
                }
            }
        }
    }
}


    
